% Preamble starts here
\documentclass[utf8,english]{gradu3}

\usepackage{xcolor}

% NOTE: This must be the last \usepackage in the whole document!
\usepackage[bookmarksopen,bookmarksnumbered,linktocpage]{hyperref}

\addbibresource{thesis.bib} % The file name of your bibliography database

% My custom macros
\newcommand{\todo}[1]{\textbf{\textcolor{red}{#1}}}
\newcommand{\tmp}[1]{\textit{{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Actual document begins here
\begin{document}

\title{Maintainability in cloud-native architecture}
\translatedtitle{Ylläpidettävyys pilvinatiiveissa arkkitehtuureissa}
\studyline{Software and Telecommunication Technology}
\avainsanat{%
  ylläpito,
  ylläpidettävyys
  julkinen pilvi,
  pilvinatiivi,
  pilviarkkitehti,
  arkkitehtuuri,
  ohjelmistoarkkitehtuuri,
  pro gradu -tutkielmat
}
\keywords{%
  maintenance,
  maintainability,
  public cloud,
  cloud-native,
  cloud architect,
  architecture,
  software architecture,
  Master's Theses}
\tiivistelma{%
  Tutkielman tavoitteena on selvittää kuinka ylläpidettävyys huomioidaan
  pilvinatiivien sovellusten arkkitehtuurisuunnitteluvaiheessa.  Tämän
  saavuttamiseksi suoritan kyselyn Nordcloud-yrityksen pilviarkkitehtien
  keskuudessa.  Ensin määritän kuinka tärkeänä ylläpidettävyyttä pidetään.
  Sitten kategorisoin ehdotukset ylläpidettävyyden huomioimiseen, ja suhteutan
  ne vastaajien kokemuksen määrään kohdealueelta. Lopuksi vertaan kyselyn
  tuloksia kirjallisuudessa ehdotettuihin lähestymistapoihin.
}
\abstract{%
  Goal of the thesis is to investigate how maintainability is addressed during
  the architectural design phase of cloud-native software development lifecycle.
  To this end, I conducted a survey among cloud architects of company Nordcloud,
  where I work.
  First I ascertain the perceived importance of maintainability.
  Then I categorize the suggested approaches for addressing maintainability and
  relate this to the respondents' years of experience in the target domain.
  Finally, I compare the survey results to approaches suggested in the literature.
}

\author{Juho Kettunen}
\contactinformation{\texttt{juho.kettunen@student.jyu.fi}}
\supervisor{Oleksiy Khriyenko}

\maketitle


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{thetermlist}
  \item [Test] Term explanation
\end{thetermlist}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mainmatter


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Introduction}


Goal of the thesis is to investigate how maintainability is addressed during
the architectural design phase of cloud-native software development lifecycle.
I chose this topic for three reasons:
\begin{enumerate}
  \item Choices made during the architectural design phase cascade into
        development and maintenance phases.
        Mistakes and oversights are slower and more expensive to correct later. \parencite{Bass1998}
  \item Maintenance phase of the software lifecycle is prevalent.
        It takes up the majority of total lifetime and costs. \parencite{Bass1998}
  \item Cloud-native approach helps reduce time-to-market and move costs from
        capital expenditure to operational expenditure. \todo{<SOURCE?>}
        Utilizing a public cloud platform allows the company to leverage a
        highly scalable, reliable and secure infrastructure and a wide variety
        of easily integratable services. \todo{<SOURCE?>}
\end{enumerate}

\todo{REWRITE! Check thesis template for good suggestions}
\tmp{First I will ascertain the perceived importance of maintainability.
  Then I will categorize the suggested approaches for addressing maintainability
  and contrast this to the respondents' years of experience in the target domain.
  Finally, I will compare the survey results to approaches suggested in the literature.}

\todo{last thing: thesis structure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Background}

My main database for researching existing literature was the JYKDOK search engine for international articles \parencite{JYKDOK}.
I decided to search keywords in abstracts, instead of full-text or only in title.
In my opinion the full-text search was too lax, and title-only too strict.
With these search terms I received between 4 to 473 results per search, which was sufficient:
\begin{itemize}
  \item (Abstract:"cloud native" AND Abstract:maintainability)
  \item (Abstract:"cloud native" AND Abstract:architecture)
  \item (Abstract:"cloud native" AND Abstract:maintenance)
  \item (Abstract:architecture AND Abstract:maintainability AND Abstract:cloud)
  \item (Abstract:serverless AND Abstract:maintainability)
  \item (Abstract:serverless AND Abstract:operations)
  \item (Abstract:"cloud-native" AND Abstract:quality AND Abstract:attribute)
  \item (Abstract:software AND Abstract:"quality attribute" AND Abstract:maintainability)
\end{itemize}

To my chagrin, I was unable to find full-text of some articles with promising abstracts.
In case of one specific article I emailed the authors \footnote{\textcite{Bogner2018}}, and they kindly sent me a PDF of it.

I also employed an ad-hoc lightweight version of snowballing from bibliographies of
promising sources, e.g. \todo{example here?}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Architecture as a software licecycle phase}

\subsection{Software architecture}

What is software architecture? We can begin by stating that every software
system has one. The architecture exists even if no-one present knows any details
about it \parencite[24]{Bass1998}. \textcite[23]{Bass1998} provide us a
definition as follows:

\begin{quote}
  "The software architecture of a program or computing system is the structure or
  structures of the system, which comprise software elements, the externally
  visible properties of those elements, and the relationships among them."
\end{quote}

A software system is a collection of software components organized to accomplish
a specific function or set of functions \parencite[3]{IEEE42010}. These components --- or
elements --- can be entities of varying size: objects, processes, libraries,
databases, commercial software, and so on. In its most trivial case, we can
consider the entire system to be a single component. This is indeed an
architecture, but practically useless due to lack of necessary details
\parencite[24]{Bass1998}. A software architect is a person, team or organization
responsible for systems architecture \parencite[3]{IEEE42010}.

\textcite[53]{Koskimies2005} define a component as an individual software
unit that offers its services through well-defined interfaces. Implementation
details of the components are not considered part of architecture, but their
interactions are. Without describing the interactions we end up with a "bubbles
and lines" diagram which is not sufficient to describe an architecture
\parencite[24]{Bass1998}.

A system can comprise more than one structure \parencite[23]{Bass1998}. Because
"structure" is an abstract concept, it can change depending on perspective. A
architectural view models some aspect of the system \parencite{Koskimies2005}. It is a
representation of a whole system from the perspective of a related set of
concerns, such as a specific shareholder's specific concern \parencite[3]{IEEE42010}. A
shareholder is an individual, team or organization with interests in, or
concerns relative to, a system. Examples include clients, users, the architect,
developers, reviewers, and so on.\parencite[3]{IEEE42010}. Examples of architectural
views include a scenario view, logical view, process view,
development view, physical view, and modification view. They are partly
overlapping: when a specific part of a system is changed, we often need to apply
changes in multiple views. \parencite{Koskimies2005}.

Architecture represents the first design decisions of a system \parencite{Bass1998}. It is
difficult to get it right the first time, and can be laborious to alter down the
road. In worst case, there is a need for an architectural change, which might
result in changes across the entire system and changes to interaction between
components. If we instead can limit the change to a group of components or only
a single one, the change will be easier to carry out. \parencite[31]{Bass1998}

Out of most design artifacts, architecture has most far-reaching consequences
\parencite[31]{Bass1998}. It will place constraints on implementation and
maintenance: will the system support the required functions;
how easy is it to test, maintain, change and extend; how large data masses can
it process, and so on \parencite{Koskimies2005}.

The architecture might even have effect on the development organization by
nudging towards a specific way to divide tasks to teams by structure of its
components \parencite[31]{Bass1998}. This is somewhat contrary to Conway's law
\footnote{https://en.wikipedia.org/wiki/Conway\%27s\_law} which states that the
technical structure of a system will reflect the social boundaries across the
organizations that produced it. I suppose that in an agile organization the
social structure is malleable enough to be impacted by a new system, when new
teams need to be formed to facilitate the development.

According to \textcite{Koskimies2005}, architecture lies on a higher
abstraction level than implementation. The lower abstraction level of a system
manifests as source code \parencite[24]{Bass1998}. This might be named as "the
implementation", or "design" as named in \textcite{IEEE12207}. Also \textcite[4]{IEEE42010} states
that architecture is conceptual instead of concrete. This goes hand in hand with
the used vocabulary. With architecture, we are using the vocabulary of the
solution, and are further away from the problem domain than during
implementation \parencite{Koskimies2005}.

When selecting a reference architecture or a fundamental
architectural style, we are dealing with a generic solution that will be further
specified later. An architectural style is a general, high-level guideline for
structuring the components and their responsibilities \parencite[24]{Bass1998}. For
example, client-server architecture is an architectural style. It is not an
architecture in itself: terminology is generic or domain-specific, and the style
is not specific enough to address the requirements set for your new system.
Countless different kinds of architectures can be implemented with the same
architectural style. \parencite[24]{Bass1998}.

As we've read, architecture is of utmost importance for the implementation and
future of the system. Because of this, it seems common sense to document
it somehow. \textcite[24]{Bass1998} define an architectural description (AD) as a
collection of products to document an architecture \parencite[3]{IEEE42010}. As such, it
is a concrete artifact. They go on to note that an architecture can live
independently of its description or specification \parencite[24]{Bass1998}. \textcite[27]{Bass1998}
outscope the documentation of guiding processes from actual architecture.  In
contrast, \textcite[3]{IEEE42010} mentions "... and principles guiding its design and
evolution". The standard states that chosen architectural concepts, as well as
considered alternatives, must be justified in the description. According to
\textcite[67]{IEEE12207}, the description can be utilized at multiple different levels of
abstraction, at each level emphasizing the details necessary for that level. If
an AD is not available, it can be reverse-engineered from an existing system.
This might be needed if, for example, it was originally developed without a
description, or if the original architect is no longer available for
consultation. \parencite[7]{IEEE42010}.

An architecture doesn't spawn out of nothing. Software architecture is based on,
among other things, the requirements placed on it \parencite{Bass1998}. Requirements
codify the collective wishes and needs that various shareholders want from the
system. If requirements were the only input to software development, then an
identical set of requirements would result in two pieces of identical
architectures, even from two entirely unrelated organizations. \parencite[5-9]{Bass1998}.

As we can see, the organization, architect or architects, and the technical
environment greatly influence how software systems are built \parencite{Bass1998}. The
organization might have other existing products, architectures or assets that
can be utilized. The organization has some individual structure, goals and
long-term investments, and personnel with specific skills and availability.
Especially the architects' background and experience is pivotal in deciding the
course for the architecture. The architect might lean on a familiar
architectural style that they have had success with in the past, and vice versa
with an unhappy experience. Their professional community can infuse into the new
system a set of standard industry practices and software engineering techniques.
\parencite[5-9]{Bass1998}.

The architecture cause feedback to its background factors, such as the
organization, customers, architects and the software engineering culture in
general \parencite{Bass1998}. Because an architecture dictates the structure of a software
system, it influences the structure of the development project with respect to
team formation, schedules and budgets. If the architecture is seen as
successful, it might be used in future projects, and then the team structure
might become a permanent part of the organization. The software might also offer
a foothold in a certain market area, and this way the organization could update
its goals to take advantage of this new possibility. Customers will likely grow
fond of a good software product, which lowers the threshold for reusing a
battle-tested architecture, because this is more economical than building a new
one from scratch. The architects themselves gain more experience from this
specific system, which means that the system's success or failure will affect
architectural choices made in future projects. When looking through a wider
lens, an especially novel and successful architecture might influence the
software engineering culture as a whole, outside of the organization from which
is sprung. Imagine, for example, the tides created by the first relational
databases, spreadsheets, windowing systems, or WWW itself. \parencite[10-11]{Bass1998}.


\subsection{Software licecycle}
\tmp{Do I have sources? Bass? Snowball from Kaihlavirta2022?}

\subsection{Advice for designing a good architecture}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Maintainability}

\subsection{Quality Attributes}

\tmp{Functional and nonfunctional (runtime and non-runtime) attributes}
\tmp{Subattributes for maintainability: modifiability, testability, observability, whatever}

\subsection{How to measure maintainability}

\tmp{And how measuring is difficult}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Cloud-nativity}

\tmp{Definitions from AWS, Microsoft, Google, CNAF, research...}
\subsection{History}

\subsection{Microservices}

\subsection{Serverless}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Maintainability in cloud-native architecture}
\tmp{Tie all the above topics together here}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Method}

In this chapter I present the research method and goals. \todo{more}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Research questions}

I aim to answer three research questions:
\begin{itemize}
  \item [\textbf{RQ1}] How much importance do cloud architects place on maintainability during
        the design phase?
  \item [\textbf{RQ2}] How to address maintainability concerns when architecting cloud-native
        applications?
  \item [\textbf{RQ3}] Do the recommendations from literature match the views of architects
        working in the field?
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Survey}

I conducted a survey that offers real-life insights into the research questions.
Survey manifests as a Google Form.
In the first section there is a data collection disclaimer and a mandatory agree-disagree choice,
before the respondent can proceed to answer the actual questions.


\subsection{Questions}
The first half of the survey gathers some demographic insights.
The latter half is dedicated to the actual subject matter.
These are all the questions, excluding the prerequisite data collection agreement:
\begin{enumerate}
  \item [\textbf{Q1}] Years of experience in cloud-native architecture?
  \item [\textbf{Q2}] Years of experience in software architecture in general?
  \item [\textbf{Q3}] Years of experience in IT in general?
  \item [\textbf{Q4}] How do you prioritize these software quality attributes when designing cloud-native
        architecture?
  \item [\textbf{Q5}] How do you address maintainability with platform- and technology choices?
  \item [\textbf{Q6}] How do you address maintainability with application architecture?
\end{enumerate}

Questions Q1 through Q3 are single-selection questions with these ranges:
\begin{itemize}
  \item 0-2
  \item 2-5
  \item 5-10
  \item 10+
\end{itemize}

Question Q4 offers a selection of software quality attributes:
\begin{itemize}
  \item Performance
  \item Reliability
  \item Maintainability
  \item Scalability
  \item Security
\end{itemize}

The respondent should set these quality attributes in a priority order.
Available priority options are:
\begin{itemize}
  \item Most important
  \item More important
  \item Important
  \item Less important
  \item Least important
\end{itemize}

Questions Q5 and Q6 are open questions, where the respondent can describe their
thoughts through text in any structure they like.
I interpret the answers to find common categories from the suggestions.

\subsection{Target audience}
The survey is targeted at cloud architects of \textit{Nordcloud, an IBM company}, where I work.
I posted the survey link along with an introductory message to Nordcloud's
internal Slack channels to reach most of our cloud architects.
These channels were used:
\begin{itemize}
  \item \#tech-infra
  \item \#aws
  \item \#azure
  \item \#google-cloud
\end{itemize}

Some of these communities have overlapping audience, but the total reach is over a thousand people.
I assume our company to employ a few dozen cloud architects.
My goal was to get 10-20 answers in order to conduct any meaningful statistical analysis on
the data.
This goal was met within a week with 13 answers, with a final tally of \todo{<NUMBER>}.

\subsection{Timeline}
Survey was sent out on Monday 20.03.2023.
I was prepared to repost the survey in Slack once a week up to four times until I
decide I have enough answers to proceed.
In the end there was no need to repost, as a sufficient number of architects
responded after the initial posting.
In early April I was able to convince one additional architect in-person at our
Jyväskylä office to respond.
Some stray responses were still recorded up to 21.4.2023.

\subsection{Data privacy concerns}
I use my JYU Google account for all Google-related functions.
Individual answers and their aggregated analysis will be stored in Google Forms and
Google Sheets in my student account until the end of my study rights and
subsequent removal of the account.

All answers are collected and analyzed anonymously.
Email addresses or other pieces of personal information are not collected.
Even though the form requires logging in with a Google account, it is enforced
only to avoid accidental re-submissions.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Analysis}

\begin{itemize}
  \item Calculate a relative grade for priority of maintainability based on answers to question Q4.
  \item Interpret and list the suggestions from answers to questions Q5 and Q6.
  \item Normalize the suggestions to find common categories.
  \item Find the most popular categories and point out possible outliers.
  \item Compare categories to solutions proposed in literature.
  \item Bonus: Calculate statistical correlation between years of experience and:
        \begin{itemize}
          \item perceived importance of maintainability
          \item number of categories proposed in Q5 and Q6
          \item popularity of categories proposed in Q5 and Q6
        \end{itemize}
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Results}

In this section I present the results I gathered from the survey. \todo{more}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Demographics (Q1-Q3)}

\tmp{
  Show the pie diagrams from Google Forms as-is? Table with counts for each option?
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Prioritization of maintainability (Q4)}

To calculate a priority score for each quality attribute, I gave the options an incremental integer value from 1 to 5.
The value 1 corresponds to option \textit{Least Important}, while value 5 corresponds to \textit{Most important}.
The absolute values chosen here are not of importance as long as the difference between each consecutive option is equal,
in order not to introduce additional bias.
This makes our scale analogous to the Likert scale \todo{ref?}, which is often used for questionnaires in research.


\begin{table}[!h]
  \begin{center}
    \caption{Priority options and their numerical weights}
    \label{table:priorities1}
    \begin{tabular}{|c|c|}
      \hline
      \textbf{Priority} & \textbf{Weight} \\
      \hline
      Most important  & 5 \\
      More important  & 4 \\
      Important       & 3 \\
      Less important  & 2 \\
      Least important & 1 \\
      \hline
    \end{tabular}
  \end{center}
\end{table}

Table \ref{table:priorities2} shows the average priorities and other relevant metrics for the quality attributes.

\begin{table}[!h]
  \begin{center}
    \caption{Average priorities and other metrics for the quality attributes}
    \label{table:priorities2}
    \begin{tabular}{|c|c|c|c|c|}
      \hline
      \textbf{QA} & \textbf{Average} & \textbf{Min} & \textbf{Mode} & \textbf{Max} \\
      \hline
      Security        & 4.07 & 1 & 5 & 5 \\
      Reliability     & 3.80 & 1 & 5 & 5 \\
      Maintainability & 2.67 & 1 & 2 & 4 \\
      Scalability     & 2.27 & 1 & 1 & 5 \\
      Performance     & 2.20 & 1 & 1 & 4 \\
      \hline
    \end{tabular}
  \end{center}
\end{table}


      
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ways to improve maintainability (Q5 \& Q6)}

\tmp{%
Extract suggestions, split to categories, present here, etc.
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Experience vs. prioritization of maintainability}

\tmp{should be simple}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Experience vs. suggested ways to improve maintainability}

\tmp{Slightly more involved. Which metrics to select?
\begin{itemize}
  \item number of suggestions?
  \item popularity of suggestions in context of survey?
  \item popularity of suggestions in the wider context of existing research?
\end{itemize}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Discussion}

In this section I further discuss the results presented in previous chapter.
\tmp{I also consider the existing literature and contrast my results against findings of those who have researched the topic before me.}


In table \ref{table:priorities3} are listed the distances between the average priorities.
Distances are calculated from results shown in table \ref{table:priorities2}.
From these distances we can draw multiple conclusions.
The top two quality attributes, Security and Reliability, are unequivocally the most highly prioritized attributes in the minds of our cloud architects.
The distance between second and third most prioritized attributes is by far the largest individual jump in values.
Maintainability is sitting quite comfortable in the middle of the range.
This likely means it is considered important, but not a priority if sacrifices need to be made to software quality.
Performance and scalability are considered least important items to an almost identical degree.

\begin{table}[!h]
  \begin{center}
    \caption{Average priorities and delta to next highest item}
    \label{table:priorities3}
    \begin{tabular}{|c|c|c|}
      \hline
      \textbf{QA} & \textbf{Average} & \textbf{$\Delta$} \\
      \hline
      Security        & 4.07 & -   \\
      Reliability     & 3.80 & 0.27\\
      Maintainability & 2.67 & 1.13\\
      Scalability     & 2.27 & 0.40\\
      Performance     & 2.20 & 0.07\\
      \hline
    \end{tabular}
  \end{center}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Conclusions}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\printbibliography

\nocite{*}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix


\end{document}
